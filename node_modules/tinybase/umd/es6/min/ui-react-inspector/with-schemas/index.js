var e,t;e=this,t=function(e,t,l){"use strict";const n=e=>typeof e,s="",r=n(s),a=n(!0),o=n(0),i=n(n),u="type",d="default",c="Has",h="Ids",m="Table",p=m+"s",b=m+h,g="Row",v=g+"Count",f=g+h,y="Cell",I=y+h,w="Value",C=w+"s",k=w+h,x="currentTarget",S="value",T=e=>s+e,V=globalThis.window,R=Math,O=R.min,q=R.floor,M=isFinite,P=e=>null==e,N=(e,t,l)=>P(e)?null==l?void 0:l():t(e),L=e=>e==r||e==a,E=e=>n(e)==i,j=e=>Array.isArray(e),z=(e,t,l)=>e.slice(t,l),$=e=>e.length,A=e=>{throw Error(e)},{PureComponent:J,Fragment:B,createContext:D,createElement:F,useCallback:Q,useContext:H,useEffect:W,useLayoutEffect:U,useMemo:G,useRef:K,useState:X,useSyncExternalStore:Y}=t,Z=(e,...t)=>P(e)?{}:e(...t),_=(e,t)=>e.sort(t),ee=(e,t)=>e.forEach(t),te=(e,t)=>e.map(t),le=e=>0==$(e),ne=(e,...t)=>e.push(...t),se=e=>e.shift(),re=Object,ae=e=>re.getPrototypeOf(e),oe=re.entries,ie=re.isFrozen,ue=e=>!P(e)&&N(ae(e),(e=>e==re.prototype||P(ae(e))),(()=>!0)),de=re.keys,ce=re.freeze,he=(e=[])=>re.fromEntries(e),me=(e,t)=>t in e,pe=(e,t)=>(delete e[t],e),be=(e,t)=>te(oe(e),(([e,l])=>t(l,e))),ge=e=>ue(e)&&0==(e=>$(de(e)))(e),ve=(e,t,l,n=0)=>P(e)||!ue(e)||!n&&ge(e)||ie(e)?(null==l||l(),!1):(be(e,((l,n)=>{t(l,n)||pe(e,n)})),!!n||!ge(e)),fe=JSON.stringify,ye=JSON.parse,Ie=e=>fe(e,((e,t)=>t instanceof Map?re.fromEntries([...t]):t)),we="tinybaseInspector",Ce="TinyBase Inspector",ke=["left","top","bottom","right","full"],xe="state",Se="sort",Te="open",Ve="position",Re=Te,Oe="editable",qe=(...e)=>Ie(e),Me=(e,t)=>te(_([...e]),t),Pe=(e,t)=>[!!l.useCell(xe,e,Oe,t),Q((l=>{t.setCell(xe,e,Oe,(e=>!e)),l.preventDefault()}),[t,e])],Ne="M20 80l5-15l40-40l10 10l-40 40l-15 5m5-15l10 10",Le='content:url("',Ee=Le+"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' stroke-width='4' stroke='white' fill='none'>",je='</svg>")',ze=Le+"data:image/svg+xml,%3csvg viewBox='0 0 680 680' xmlns='http://www.w3.org/2000/svg' style='width:680px%3bheight:680px'%3e %3cpath stroke='white' stroke-width='80' fill='none' d='M340 617a84 241 90 11.01 0zM131 475a94 254 70 10428-124 114 286 70 01-428 124zm0-140a94 254 70 10428-124 114 286 70 01-428 124zm-12-127a94 254 70 00306 38 90 260 90 01-306-38zm221 3a74 241 90 11.01 0z' /%3e %3cpath fill='%23d81b60' d='M131 475a94 254 70 10428-124 114 286 70 01-428 124zm0-140a94 254 70 10428-124 114 286 70 01-428 124z' /%3e %3cpath d='M249 619a94 240 90 00308-128 114 289 70 01-308 128zM119 208a94 254 70 00306 38 90 260 90 01-306-38zm221 3a74 241 90 11.01 0z' /%3e%3c/svg%3e\")",$e=te([[20,20,20,60],[20,20,60,20],[20,60,60,20],[60,20,20,60],[30,30,40,40]],(([e,t,l,n])=>Ee+`<rect x='20' y='20' width='60' height='60' fill='grey'/><rect x='${e}' y='${t}' width='${l}' height='${n}' fill='white'/>`+je)),Ae=Ee+"<path d='M20 20l60 60M20 80l60-60' />"+je,Je=Ee+`<path d='${Ne}' />`+je,Be=Ee+`<path d='${Ne}M20 20l60 60' />`+je;var De=Object.defineProperty,Fe=Object.defineProperties,Qe=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable,Ge=(e,t,l)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Ke=(e,t)=>{for(var l in t||(t={}))We.call(t,l)&&Ge(e,l,t[l]);if(He)for(var l of He(t))Ue.call(t,l)&&Ge(e,l,t[l]);return e},Xe=(e,t)=>Fe(e,Qe(t));const Ye="*::-webkit-scrollbar",Ze=((e,t="")=>e.join(t))(be(Xe(Ke(Xe(Ke(Xe(Ke({"":"all:initial;font-family:sans-serif;font-size:0.75rem;position:fixed;z-index:999999","*":"all:revert","*::before":"all:revert","*::after":"all:revert",[Ye]:"width:0.5rem;height:0.5rem;",[Ye+"-track"]:"background:#111",[Ye+"-thumb"]:"background:#999;border:1px solid #111",[Ye+"-thumb:hover"]:"background:#fff",[Ye+"-corner"]:"background:#111",img:"width:1rem;height:1rem;background:#111;border:0;vertical-align:text-bottom",">img":"padding:0.25rem;bottom:0;right:0;position:fixed;"+ze},he(te(["bottom:0;left:0","top:0;right:0"],((e,t)=>[`>img[data-position='${t}']`,e])))),{main:"display:flex;flex-direction:column;background:#111d;color:#fff;position:fixed;"}),he(te(["bottom:0;left:0;width:35vw;height:100vh","top:0;right:0;width:100vw;height:30vh","bottom:0;left:0;width:100vw;height:30vh","top:0;right:0;width:35vw;height:100vh","top:0;right:0;width:100vw;height:100vh"],((e,t)=>[`main[data-position='${t}']`,e])))),{header:"display:flex;padding:0.25rem;background:#000;align-items:center","header>img:nth-of-type(1)":ze,"header>img:nth-of-type(6)":Ae}),he(te($e,((e,t)=>[`header>img[data-id='${t}']`,e])))),{"header>span":"flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-left:0.25rem",article:"padding:0.25rem 0.25rem 0.25rem 0.5rem;overflow:auto;flex:1",details:"margin-left:0.75rem;width:fit-content;","details img":"display:none","details[open]>summary img":"display:unset;background:none;margin-left:0.25rem","details[open]>summary img.edit":Je,"details[open]>summary img.done":Be,summary:"margin-left:-0.75rem;line-height:1.25rem;user-select:none;width:fit-content",table:"border-collapse:collapse;table-layout:fixed;margin-bottom:0.5rem","table input":"background:#111;color:unset;padding:0 0.25rem;border:0;font-size:unset;vertical-align:top;margin:0",'table input[type="number"]':"width:4rem","table tbody button":"font-size:0;background:#fff;border-radius:50%;margin:0 0.125rem 0 0;width:0.85rem;color:#111","table button:first-letter":"font-size:0.75rem",thead:"background:#222","th:nth-of-type(1)":"min-width:2rem;","th.sorted":"background:#000","table caption":"text-align:left;white-space:nowrap;line-height:1.25rem",button:"width:1.5rem;border:none;background:none;color:#fff;padding:0","button[disabled]":"color:#777","button.next":"margin-right:0.5rem",[`th,#${we} td`]:"overflow:hidden;text-overflow:ellipsis;padding:0.25rem 0.5rem;max-width:12rem;white-space:nowrap;border-width:1px 0;border-style:solid;border-color:#777;text-align:left","span.warn":"margin:0.25rem;color:#d81b60"}),((e,t)=>e?`#${we} ${t}{${e}}`:""))),_e=({s:e})=>{var t;const n=null!=(t=l.useValue(Ve,e))?t:1,s=l.useSetValueCallback(Re,(()=>!0),[],e);return l.useValue(Re,e)?null:F("img",{onClick:s,title:Ce,"data-position":n})},et=({uniqueId:e,summary:t,editable:n,handleEditable:s,children:r,s:a})=>{const o=!!l.useCell(xe,e,Te,a),i=l.useSetCellCallback(xe,e,Te,(e=>e[x].open),[],a);return F("details",{open:o,onToggle:i},F("summary",null,t,s?F("img",{onClick:s,className:n?"done":"edit"}):null),r)},tt=e=>{const t=n(e);return L(t)||t==o&&M(e)?t:void 0},lt=(e,t,l,n,s)=>P(s)?e.delCell(t,l,n,!0):e.setCell(t,l,n,s),nt=(e,t,l)=>P(l)?e.delValue(t):e.setValue(t,l),st=(e,t,l,n)=>e==r?t:e==o?l:n;var rt=Object.defineProperty,at=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,ct=(e,t,l)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,ht=(e,t)=>{for(var l in t||(t={}))ut.call(t,l)&&ct(e,l,t[l]);if(it)for(var l of it(t))dt.call(t,l)&&ct(e,l,t[l]);return e},mt=(e,t)=>at(e,ot(t)),pt=(e,t)=>{var l={};for(var n in e)ut.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&it)for(var n of it(e))t.indexOf(n)<0&&dt.call(e,n)&&(l[n]=e[n]);return l};const bt="editable",gt=(e,t)=>te(l.useTableCellIds(e,t),(t=>e+"."+t)),vt=(e,t,l)=>{const n=Q(e,t);return l?n:void 0},ft=(...e)=>G((()=>e),e),yt=(e,t)=>G((()=>({store:e,tableId:t})),[e,t]),It=(e,t)=>G((()=>({queries:e,queryId:t})),[e,t]),wt=(e,t=!1,l,n=0,s,r,a,o)=>{const[[i,u,d],c]=X([e,t,n]),h=Q((e=>{c(e),null==o||o(e)}),[o]),m=vt((e=>h([e,e==i&&!u,d])),[h,i,u,d],l),p=Q((e=>h([i,u,e])),[h,i,u]),b=!0===a?Lt:a;return[[i,u,d],m,G((()=>!1===a?null:F(b,{offset:d,limit:s,total:r,onChange:p})),[a,b,d,s,r,p])]},Ct=(e,t,l)=>G((()=>{const s=null!=t?t:e;return a=j(s)?he(te(s,(e=>[e,e]))):s,o=(e,t)=>ht(ht({},{label:t,component:l}),n(e)==r?{label:e}:e),he(be(a,((e,t)=>[t,o(e,t)])));var a,o}),[t,l,e]),kt=({className:e,headerRow:t,idColumn:l,params:[n,s,r,a,o,i]})=>F("table",{className:e},i?F("caption",null,i):null,!1===t?null:F("thead",null,F("tr",null,!1===l?null:F(xt,{sort:null!=a?a:[],label:"Id",onClick:o}),be(n,(({label:e},t)=>F(xt,{key:t,cellId:t,label:e,sort:null!=a?a:[],onClick:o}))))),F("tbody",null,te(r,(e=>F("tr",{key:e},!1===l?null:F("th",null,e),be(n,(({component:t,getComponentProps:l},n)=>F("td",{key:n},F(t,mt(ht(ht({},Z(l,e,n)),s),{rowId:e,cellId:n})))))))))),xt=({cellId:e,sort:[t,l],label:n=(null!=e?e:s),onClick:r})=>F("th",{onClick:vt((()=>null==r?void 0:r(e)),[r,e],r),className:P(l)||t!=e?void 0:`sorted ${l?"de":"a"}scending`},P(l)||t!=e?null:(l?"↓":"↑")+" ",n),St=({localRowId:e,params:[t,n,s,r,a,o,i]})=>{const u=l.useRemoteRowId(a,e,o);return F("tr",null,!1===t?null:F(B,null,F("th",null,e),F("th",null,u)),be(n,(({component:t,getComponentProps:l},n)=>{const[a,o]=((e,t="",l)=>e.split(t,l))(n,".",2),d=a===s?e:a===r?u:null;return P(d)?null:F("td",{key:n},F(t,mt(ht({},Z(l,d,o)),{store:i,tableId:a,rowId:d,cellId:o})))})))},Tt=({thing:e,onThingChange:t,className:l,hasSchema:n,showType:s=!0})=>{const[i,u]=X(),[d,c]=X(),[h,m]=X(),[p,b]=X(),[g,v]=X();d!==e&&(u(tt(e)),c(e),m(e+""),b(Number(e)||0),v(!!e));const f=Q(((e,l)=>{l(e),c(e),t(e)}),[t]),y=Q((()=>{if(!(null==n?void 0:n())){const e=st(i,o,a,r),l=st(e,h,p,g);u(e),c(l),t(l)}}),[n,t,h,p,g,i]);return F("div",{className:l},s?F("button",{className:i,onClick:y},i):null,st(i,F("input",{key:i,value:h,onChange:Q((e=>f(e[x][S]+"",m)),[f])}),F("input",{key:i,type:"number",value:p,onChange:Q((e=>f(Number(e[x][S]||0),b)),[f])}),F("input",{key:i,type:"checkbox",checked:g,onChange:Q((e=>f(!!e[x].checked,v)),[f])})))},Vt=e=>{var t=e,{tableId:n,cellId:s,descending:r,offset:a,limit:o,store:i,editable:u,sortOnClick:d,paginator:c=!1,onChange:h,customCells:m}=t,p=pt(t,["tableId","cellId","descending","offset","limit","store","editable","sortOnClick","paginator","onChange","customCells"]);const[b,g,v]=wt(s,r,d,a,o,l.useRowCount(n,i),c,h);return F(kt,mt(ht({},p),{params:ft(Ct(l.useTableCellIds(n,i),m,u?Pt:l.CellView),yt(i,n),l.useSortedRowIds(n,...b,o,i),b,g,v)}))},Rt=({store:e,editable:t=!1,valueComponent:n=(t?Nt:l.ValueView),getValueComponentProps:s,className:r,headerRow:a,idColumn:o})=>F("table",{className:r},!1===a?null:F("thead",null,F("tr",null,!1===o?null:F("th",null,"Id"),F("th",null,w))),F("tbody",null,te(l.useValueIds(e),(t=>F("tr",{key:t},!1===o?null:F("th",null,t),F("td",null,F(n,mt(ht({},Z(s,t)),{valueId:t,store:e})))))))),Ot=e=>{var t=e,{indexId:n,sliceId:s,indexes:r,editable:a,customCells:o}=t,i=pt(t,["indexId","sliceId","indexes","editable","customCells"]);const[u,d,c]=((e,t)=>[e,null==e?void 0:e.getStore(),null==e?void 0:e.getTableId(t)])(l.useIndexesOrIndexesById(r),n);return F(kt,mt(ht({},i),{params:ft(Ct(l.useTableCellIds(c,d),o,a?Pt:l.CellView),yt(d,c),l.useSliceRowIds(n,s,u))}))},qt=({relationshipId:e,relationships:t,editable:n,customCells:s,className:r,headerRow:a,idColumn:o=!0})=>{const[i,u,d,c]=((e,t)=>[e,null==e?void 0:e.getStore(),null==e?void 0:e.getLocalTableId(t),null==e?void 0:e.getRemoteTableId(t)])(l.useRelationshipsOrRelationshipsById(t),e),h=Ct([...gt(d,u),...gt(c,u)],s,n?Pt:l.CellView),m=ft(o,h,d,c,e,i,u);return F("table",{className:r},!1===a?null:F("thead",null,F("tr",null,!1===o?null:F(B,null,F("th",null,d,".Id"),F("th",null,c,".Id")),be(h,(({label:e},t)=>F("th",{key:t},e))))),F("tbody",null,te(l.useRowIds(d,u),(e=>F(St,{key:e,localRowId:e,params:m})))))},Mt=e=>{var t=e,{queryId:n,cellId:s,descending:r,offset:a,limit:o,queries:i,sortOnClick:u,paginator:d=!1,customCells:c,onChange:h}=t,m=pt(t,["queryId","cellId","descending","offset","limit","queries","sortOnClick","paginator","customCells","onChange"]);const[p,b,g]=wt(s,r,u,a,o,l.useResultRowCount(n,i),d,h);return F(kt,mt(ht({},m),{params:ft(Ct(l.useResultTableCellIds(n,i),c,l.ResultCellView),It(i,n),l.useResultSortedRowIds(n,...p,o,i),p,b,g)}))},Pt=({tableId:e,rowId:t,cellId:n,store:s,className:r,showType:a})=>{var o;return F(Tt,{thing:l.useCell(e,t,n,s),onThingChange:l.useSetCellCallback(e,t,n,(e=>e),[],s),className:null!=r?r:bt+y,showType:a,hasSchema:null==(o=l.useStoreOrStoreById(s))?void 0:o.hasTablesSchema})},Nt=({valueId:e,store:t,className:n,showType:s})=>{var r;return F(Tt,{thing:l.useValue(e,t),onThingChange:l.useSetValueCallback(e,(e=>e),[],t),className:null!=n?n:bt+w,showType:s,hasSchema:null==(r=l.useStoreOrStoreById(t))?void 0:r.hasValuesSchema})},Lt=({onChange:e,total:t,offset:l=0,limit:n=t,singular:s="row",plural:r=s+"s"})=>{(l>t||l<0)&&(l=0,e(0));const a=vt((()=>e(l-n)),[e,l,n],l>0),o=vt((()=>e(l+n)),[e,l,n],l+n<t);return F(B,null,t>n&&F(B,null,F("button",{className:"previous",disabled:0==l,onClick:a},"←"),F("button",{className:"next",disabled:l+n>=t,onClick:o},"→"),l+1," to ",O(t,l+n)," of "),t," ",1!=t?r:s)},Et=({indexes:e,indexesId:t,indexId:n,s:s})=>F(et,{uniqueId:qe("i",t,n),summary:"Index: "+n,s:s},te(l.useSliceIds(n,e),(l=>F(jt,{indexes:e,indexesId:t,indexId:n,sliceId:l,s:s,key:l})))),jt=({indexes:e,indexesId:t,indexId:l,sliceId:n,s:s})=>{const r=qe("i",t,l,n),[a,o]=Pe(r,s);return F(et,{uniqueId:r,summary:"Slice: "+n,editable:a,handleEditable:o,s:s},F(Ot,{sliceId:n,indexId:l,indexes:e,editable:a}))},zt=({indexesId:e,s:t})=>{const n=l.useIndexes(e),s=l.useIndexIds(n);return P(n)?null:F(et,{uniqueId:qe("i",e),summary:"Indexes: "+(null!=e?e:d),s:t},le(s)?"No indexes defined":Me(s,(l=>F(Et,{indexes:n,indexesId:e,indexId:l,s:t,key:l}))))},$t=({metrics:e,metricId:t})=>F("tr",null,F("th",null,t),F("td",null,null==e?void 0:e.getTableId(t)),F("td",null,l.useMetric(t,e))),At=({metricsId:e,s:t})=>{const n=l.useMetrics(e),s=l.useMetricIds(n);return P(n)?null:F(et,{uniqueId:qe("m",e),summary:"Metrics: "+(null!=e?e:d),s:t},le(s)?"No metrics defined":F("table",null,F("thead",null,F("th",null,"Metric Id"),F("th",null,"Table Id"),F("th",null,"Metric")),F("tbody",null,te(s,(e=>F($t,{metrics:n,metricId:e,key:e}))))))},Jt=({queries:e,queriesId:t,queryId:n,s:s})=>{var r;const a=qe("q",t,n),[o,i,u]=ye(null!=(r=l.useCell(xe,a,Se,s))?r:"[]"),d=l.useSetCellCallback(xe,a,Se,Ie,[],s);return F(et,{uniqueId:a,summary:"Query: "+n,s:s},F(Mt,{queryId:n,queries:e,cellId:o,descending:i,offset:u,limit:10,paginator:!0,sortOnClick:!0,onChange:d}))},Bt=({queriesId:e,s:t})=>{const n=l.useQueries(e),s=l.useQueryIds(n);return P(n)?null:F(et,{uniqueId:qe("q",e),summary:"Queries: "+(null!=e?e:d),s:t},le(s)?"No queries defined":Me(s,(l=>F(Jt,{queries:n,queriesId:e,queryId:l,s:t,key:l}))))},Dt=({relationships:e,relationshipsId:t,relationshipId:l,s:n})=>{const s=qe("r",t,l),[r,a]=Pe(s,n);return F(et,{uniqueId:s,summary:"Relationship: "+l,editable:r,handleEditable:a,s:n},F(qt,{relationshipId:l,relationships:e,editable:r}))},Ft=({relationshipsId:e,s:t})=>{const n=l.useRelationships(e),s=l.useRelationshipIds(n);return P(n)?null:F(et,{uniqueId:qe("r",e),summary:"Relationships: "+(null!=e?e:d),s:t},le(s)?"No relationships defined":Me(s,(l=>F(Dt,{relationships:n,relationshipsId:e,relationshipId:l,s:t,key:l}))))},Qt=({tableId:e,store:t,storeId:n,s:s})=>{var r;const a=qe("t",n,e),[o,i,u]=ye(null!=(r=l.useCell(xe,a,Se,s))?r:"[]"),d=l.useSetCellCallback(xe,a,Se,Ie,[],s),[c,h]=Pe(a,s);return F(et,{uniqueId:a,summary:m+": "+e,editable:c,handleEditable:h,s:s},F(Vt,{tableId:e,store:t,cellId:o,descending:i,offset:u,limit:10,paginator:!0,sortOnClick:!0,onChange:d,editable:c}))},Ht=({store:e,storeId:t,s:n})=>{const s=qe("v",t),[r,a]=Pe(s,n);return le(l.useValueIds(e))?null:F(et,{uniqueId:s,summary:C,editable:r,handleEditable:a,s:n},F(Rt,{store:e,editable:r}))},Wt=({storeId:e,s:t})=>{const n=l.useStore(e),s=l.useTableIds(n);return P(n)?null:F(et,{uniqueId:qe("s",e),summary:(n.isMergeable()?"Mergeable":"")+"Store: "+(null!=e?e:d),s:t},F(Ht,{storeId:e,store:n,s:t}),Me(s,(l=>F(Qt,{store:n,storeId:e,tableId:l,s:t,key:l}))))},Ut=({s:e})=>{const t=K(null),n=K(0),[s,r]=X(!1),{scrollLeft:a,scrollTop:o}=l.useValues(e);U((()=>{const e=t.current;if(e&&!s){const t=new MutationObserver((()=>{e.scrollWidth>=q(a)+e.clientWidth&&e.scrollHeight>=q(o)+e.clientHeight&&e.scrollTo(a,o)}));return t.observe(e,{childList:!0,subtree:!0}),()=>t.disconnect()}}),[s,a,o]);const i=Q((t=>{const{scrollLeft:l,scrollTop:s}=t[x];cancelIdleCallback(n.current),n.current=requestIdleCallback((()=>{r(!0),e.setPartialValues({scrollLeft:l,scrollTop:s})}))}),[e]),u=l.useStore(),d=l.useStoreIds(),c=l.useMetrics(),h=l.useMetricsIds(),m=l.useIndexes(),p=l.useIndexesIds(),b=l.useRelationships(),g=l.useRelationshipsIds(),v=l.useQueries(),f=l.useQueriesIds();return P(u)&&le(d)&&P(c)&&le(h)&&P(m)&&le(p)&&P(b)&&le(g)&&P(v)&&le(f)?F("span",{className:"warn"},"There are no Stores or other objects to inspect. Make sure you placed the Inspector inside a Provider component."):F("article",{ref:t,onScroll:i},F(Wt,{s:e}),te(d,(t=>F(Wt,{storeId:t,s:e,key:t}))),F(At,{s:e}),te(h,(t=>F(At,{metricsId:t,s:e,key:t}))),F(zt,{s:e}),te(p,(t=>F(zt,{indexesId:t,s:e,key:t}))),F(Ft,{s:e}),te(g,(t=>F(Ft,{relationshipsId:t,s:e,key:t}))),F(Bt,{s:e}),te(f,(t=>F(Bt,{queriesId:t,s:e,key:t}))))};var Gt=Object.defineProperty;class Kt extends J{constructor(e){var t,l,n;super(e),n=(e,t)=>console.error(e,t.componentStack),(l="componentDidCatch")in(t=this)?Gt(t,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[l]=n,this.state={e:0}}static getDerivedStateFromError(){return{e:1}}render(){return this.state.e?F("span",{className:"warn"},"Inspector error: please see console for details."):this.props.children}}const Xt=({s:e})=>{var t;const n=null!=(t=l.useValue(Ve,e))?t:1,s=l.useSetValueCallback(Re,(()=>!1),[],e),r=l.useSetValueCallback(Ve,(e=>Number(e[x].dataset.id)),[],e);return F("header",null,F("img",{title:Ce}),F("span",null,Ce),te(ke,((e,t)=>t==n?null:F("img",{onClick:r,"data-id":t,title:"Dock to "+e,key:t}))),F("img",{onClick:s,title:"Close"}))},Yt=({s:e})=>{var t;const n=null!=(t=l.useValue(Ve,e))?t:1;return l.useValue(Re,e)?F("main",{"data-position":n},F(Xt,{s:e}),F(Kt,null,F(Ut,{s:e}))):null},Zt=e=>t=>{return l=(t,l)=>t+e(l),rl(t).reduce(l,0);var l},_t=e=>{var t;return null!=(t=null==e?void 0:e.size)?t:0},el=Zt(_t),tl=Zt(el),ll=Zt(tl),nl=(e,t)=>{var l;return null!=(l=null==e?void 0:e.has(t))&&l},sl=e=>P(e)||0==_t(e),rl=e=>{var t;return[...null!=(t=null==e?void 0:e.values())?t:[]]},al=e=>e.clear(),ol=(e,t)=>null==e?void 0:e.forEach(t),il=(e,t)=>null==e?void 0:e.delete(t),ul=e=>new Map(e),dl=e=>{var t;return[...null!=(t=null==e?void 0:e.keys())?t:[]]},cl=(e,t)=>null==e?void 0:e.get(t),hl=(e,t)=>ol(e,((e,l)=>t(l,e))),ml=(e,t,l)=>P(l)?(il(e,t),e):null==e?void 0:e.set(t,l),pl=(e,t,l,n)=>(nl(e,t)?null==n||n(cl(e,t)):ml(e,t,l()),cl(e,t)),bl=(e,t,l,n=ml)=>(be(t,((t,n)=>l(e,n,t))),hl(e,(l=>me(t,l)?0:n(e,l))),e),gl=(e,t,l,n)=>{const s={};return ol(e,((e,r)=>{if(!(null==l?void 0:l(e,r))){const l=t?t(e,r):e;(null==n?void 0:n(l))||(s[r]=l)}})),s},vl=(e,t,l)=>gl(e,(e=>gl(e,t,l)),sl,ge),fl=(e,t,l)=>gl(e,(e=>vl(e,t,l)),sl,ge),yl=(e,t)=>{const l=ul();return ol(e,((e,n)=>{var s;return l.set(n,null!=(s=null==t?void 0:t(e))?s:e)})),l},Il=e=>yl(e,yl),wl=e=>yl(e,Il),Cl=(e,t,l,n,s=0)=>N((l?pl:cl)(e,t[s],s>$(t)-2?l:ul),(r=>{if(s>$(t)-2)return(null==n?void 0:n(r))&&ml(e,t[s]),r;const a=Cl(r,t,l,n,s+1);return sl(r)&&ml(e,t[s]),a})),kl=e=>new Set(j(e)||P(e)?e:[e]),xl=(e,t)=>null==e?void 0:e.add(t),Sl=/^\d+$/,Tl=()=>{const e=[];let t=0;return[l=>{var n;return null!=(n=l?se(e):null)?n:s+t++},t=>{Sl.test(t)&&$(e)<1e3&&ne(e,t)}]},Vl=e=>{let t;const[l,n]=Tl(),r=ul();return[(n,a,o,i=[],u=()=>[])=>{null!=t||(t=e());const d=l(1);return ml(r,d,[n,a,o,i,u]),xl(Cl(a,null!=o?o:[s],kl),d),d},(e,l,...n)=>ee(((e,t=[s])=>{const l=[],n=(e,s)=>s==$(t)?ne(l,e):null===t[s]?ol(e,(e=>n(e,s+1))):ee([t[s],null],(t=>n(cl(e,t),s+1)));return n(e,0),l})(e,l),(e=>ol(e,(e=>cl(r,e)[0](t,...null!=l?l:[],...n))))),e=>N(cl(r,e),(([,t,l])=>(Cl(t,null!=l?l:[s],void 0,(t=>(il(t,e),sl(t)?1:0))),ml(r,e),n(e),l))),e=>N(cl(r,e),(([e,,l=[],n,s])=>{const r=(...a)=>{var o,i;const u=$(a);u==$(l)?e(t,...a,...s(a)):P(l[u])?ee(null!=(i=null==(o=n[u])?void 0:o.call(n,...a))?i:[],(e=>r(...a,e))):r(...a,l[u])};r()}))]};var Rl=Object.defineProperty,Ol=Object.getOwnPropertySymbols,ql=Object.prototype.hasOwnProperty,Ml=Object.prototype.propertyIsEnumerable,Pl=(e,t,l)=>t in e?Rl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Nl=(e,t,l)=>new Promise(((n,s)=>{var r=e=>{try{o(l.next(e))}catch(e){s(e)}},a=e=>{try{o(l.throw(e))}catch(e){s(e)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,a);o((l=l.apply(e,t)).next())}));const Ll=ul(),El=ul();var jl=(e,t,l)=>new Promise(((n,s)=>{var r=e=>{try{o(l.next(e))}catch(e){s(e)}},a=e=>{try{o(l.throw(e))}catch(e){s(e)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,a);o((l=l.apply(e,t)).next())}));const zl="storage",$l=e=>[e,e],Al=(e,t=el)=>t(e[0])+t(e[1]),Jl=()=>[ul(),ul()],Bl=e=>[...e],Dl=([e,t])=>e===t,Fl=(e,t,l)=>ml(e,t,cl(e,t)==-l?void 0:l),Ql=()=>{let e,t,l=!1,n=!1,s=0,r=[];const a=ul(),i=ul(),h=ul(),x=ul(),S=ul(),V=ul(),R=ul(),O=ul(),q=ul(),M=ul(),A=ul(),J=ul(),B=ul(),D=ul(),F=kl(),Q=ul(),H=ul(),W=ul(),U=ul(),G=Jl(),K=Jl(),X=Jl(),Y=Jl(),Z=Jl(),le=Jl(),se=Jl(),re=Jl(),ae=Jl(),oe=Jl(),ie=Jl(),ue=Jl(),de=Jl(),he=Jl(),fe=Jl(),we=Jl(),Ce=Jl(),ke=Jl(),xe=Jl(),Se=Jl(),Te=Jl(),Ve=Jl(),Re=ul(),Oe=Jl(),[qe,Me,Pe,Ne]=Vl((()=>Rl)),Le=e=>{if(!ve(e,((e,t)=>[u,d].includes(t))))return!1;const t=e[u];return!(!L(t)&&t!=o||(tt(e[d])!=t&&pe(e,d),0))},Ee=j,je=(t,l)=>(!e||nl(A,l)||pt(l))&&ve(t,((e,t)=>ze(l,t,e)),(()=>pt(l))),ze=(e,t,l,n)=>ve(n?l:Be(l,e,t),((n,s)=>N($e(e,t,s,n),(e=>(l[s]=e,!0)),(()=>!1))),(()=>pt(e,t))),$e=(t,l,n,s)=>e?N(cl(cl(A,t),n),(e=>tt(s)!=e[u]?pt(t,l,n,s,e[d]):s),(()=>pt(t,l,n,s))):P(tt(s))?pt(t,l,n,s):s,Ae=(e,t)=>ve(t?e:De(e),((t,l)=>N(Je(l,t),(t=>(e[l]=t,!0)),(()=>!1))),(()=>bt())),Je=(e,l)=>t?N(cl(B,e),(t=>tt(l)!=t[u]?bt(e,l,t[d]):l),(()=>bt(e,l))):P(tt(l))?bt(e,l):l,Be=(e,t,l)=>(N(cl(J,t),(([n,s])=>{ol(n,((t,l)=>{me(e,l)||(e[l]=t)})),ol(s,(n=>{me(e,n)||pt(t,l,n)}))})),e),De=e=>(t&&(ol(D,((t,l)=>{me(e,l)||(e[l]=t)})),ol(F,(t=>{me(e,t)||bt(t)}))),e),Fe=e=>bl(A,e,((e,t,l)=>{const n=ul(),s=kl();bl(pl(A,t,ul),l,((e,t,l)=>{ml(e,t,l),N(l[d],(e=>ml(n,t,e)),(()=>xl(s,t)))})),ml(J,t,[n,s])}),((e,t)=>{ml(A,t),ml(J,t)})),Qe=e=>bl(B,e,((e,t,l)=>{ml(B,t,l),N(l[d],(e=>ml(D,t,e)),(()=>xl(F,t)))}),((e,t)=>{ml(B,t),ml(D,t),il(F,t)})),He=e=>ge(e)?Ut():Dt(e),We=e=>bl(W,e,((e,t,l)=>Ue(t,l)),((e,t)=>st(t))),Ue=(e,t)=>bl(pl(W,e,(()=>(it(e,1),ml(Q,e,Tl()),ml(H,e,ul()),ul()))),t,((t,l,n)=>Ge(e,t,l,n)),((t,l)=>rt(e,t,l))),Ge=(e,t,l,n,s)=>bl(pl(t,l,(()=>(ut(e,l,1),ul()))),n,((t,n,s)=>Ke(e,l,t,n,s)),((n,r)=>at(e,t,l,n,r,s))),Ke=(e,t,l,n,s)=>{nl(l,n)||dt(e,t,n,1);const r=cl(l,n);s!==r&&(ct(e,t,n,r,s),ml(l,n,s))},Xe=(e,t,l,n,s)=>N(cl(t,l),(t=>Ke(e,l,t,n,s)),(()=>Ge(e,t,l,Be({[n]:s},e,l)))),Ye=e=>ge(e)?Xt():Ft(e),Ze=e=>bl(U,e,((e,t,l)=>_e(t,l)),((e,t)=>ot(t))),_e=(e,t)=>{nl(U,e)||ht(e,1);const l=cl(U,e);t!==l&&(mt(e,l,t),ml(U,e,t))},et=e=>{var t;return null!=(t=cl(W,e))?t:Ue(e,{})},st=e=>Ue(e,{}),rt=(e,t,l)=>{const[,n]=cl(Q,e);n(l),Ge(e,t,l,{},!0)},at=(e,t,l,n,s,r)=>{var a;const o=cl(null==(a=cl(J,e))?void 0:a[0],s);if(!P(o)&&!r)return Ke(e,l,n,s,o);const i=t=>{ct(e,l,t,cl(n,t)),dt(e,l,t,-1),ml(n,t)};P(o)?i(s):hl(n,i),sl(n)&&(ut(e,l,-1),sl(ml(t,l))&&(it(e,-1),ml(W,e),ml(Q,e),ml(H,e)))},ot=e=>{const t=cl(D,e);if(!P(t))return _e(e,t);mt(e,cl(U,e)),ht(e,-1),ml(U,e)},it=(e,t)=>Fl(a,e,t),ut=(e,t,l)=>Fl(pl(x,e,ul),t,l)&&ml(h,e,pl(h,e,(()=>0))+l),dt=(e,t,l,n)=>{var s;const r=cl(H,e),a=null!=(s=cl(r,l))?s:0;(0==a&&1==n||1==a&&-1==n)&&Fl(pl(i,e,ul),l,n),ml(r,l,a!=-n?a+n:null),Fl(pl(pl(S,e,ul),t,ul),l,n)},ct=(e,t,l,n,s)=>{var a;pl(pl(pl(V,e,ul),t,ul),l,(()=>[n,0]))[1]=s,null==(a=r[3])||a.call(r,e,t,l,s)},ht=(e,t)=>Fl(R,e,t),mt=(e,t,l)=>{var n;pl(O,e,(()=>[t,0]))[1]=l,null==(n=r[4])||n.call(r,e,l)},pt=(e,t,l,n,s)=>(ne(pl(pl(pl(q,e,ul),t,ul),l,(()=>[])),n),s),bt=(e,t,l)=>(ne(pl(M,e,(()=>[])),t),l),gt=(e,t,l)=>N(cl(cl(cl(V,e),t),l),(([e,t])=>[!0,e,t]),(()=>[!1,...$l(Mt(e,t,l))])),vt=e=>N(cl(O,e),(([e,t])=>[!0,e,t]),(()=>[!1,...$l(Lt(e))])),ft=e=>sl(q)||sl(we[e])?0:ol(e?wl(q):q,((t,l)=>ol(t,((t,n)=>ol(t,((t,s)=>Me(we[e],[l,n,s],t))))))),yt=e=>sl(M)||sl(Ce[e])?0:ol(e?yl(M):M,((t,l)=>Me(Ce[e],[l],t))),It=(e,t,l,n)=>{if(!sl(e))return Me(t,n,(()=>gl(e))),hl(e,((e,t)=>Me(l,[...null!=n?n:[],e],1==t))),1},wt=e=>{const t=Et();t!=l&&Me(G[e],void 0,t);const n=sl(oe[e]),s=sl(de[e])&&sl(he[e])&&sl(ae[e])&&sl(ie[e])&&sl(le[e])&&sl(se[e])&&sl(re[e])&&n&&sl(X[e])&&sl(Y[e]),r=sl(fe[e])&&sl(ue[e])&&sl(Z[e])&&sl(K[e]);if(!s||!r){const t=e?[yl(a),Il(i),yl(h),Il(x),wl(S),wl(V)]:[a,i,h,x,S,V];if(!s){It(t[0],X[e],Y[e]),ol(t[1],((t,l)=>It(t,le[e],se[e],[l]))),ol(t[2],((t,l)=>{0!=t&&Me(re[e],[l],Vt(l))}));const l=kl();ol(t[3],((t,s)=>{It(t,ae[e],ie[e],[s])&&!n&&(Me(oe[e],[s,null]),xl(l,s))})),n||ol(t[5],((t,n)=>{if(!nl(l,n)){const l=kl();ol(t,(e=>ol(e,(([t,n],s)=>n!==t?xl(l,s):il(e,s))))),ol(l,(t=>Me(oe[e],[n,t])))}})),ol(t[4],((t,l)=>ol(t,((t,n)=>It(t,de[e],he[e],[l,n])))))}if(!r){let l;ol(t[5],((t,n)=>{let s;ol(t,((t,r)=>{let a;ol(t,(([t,o],i)=>{o!==t&&(Me(fe[e],[n,r,i],o,t,gt),l=s=a=1)})),a&&Me(ue[e],[n,r],gt)})),s&&Me(Z[e],[n],gt)})),l&&Me(K[e],void 0,gt)}}},Ct=e=>{const t=Jt();t!=n&&Me(ke[e],void 0,t);const l=sl(Se[e])&&sl(Te[e]),s=sl(Ve[e])&&sl(xe[e]);if(!l||!s){const t=e?[yl(R),yl(O)]:[R,O];if(l||It(t[0],Se[e],Te[e]),!s){let l;ol(t[1],(([t,n],s)=>{n!==t&&(Me(Ve[e],[s],n,t,vt),l=1)})),l&&Me(xe[e],void 0,vt)}}},kt=(e,...t)=>(rl((()=>e(...te(t,T)))),Rl),xt=()=>fl(W),St=()=>dl(W),Tt=e=>dl(cl(H,T(e))),Vt=e=>_t(cl(W,T(e))),Rt=e=>dl(cl(W,T(e))),Ot=(e,t,l,n=0,s)=>{return te(z(_((r=cl(W,T(e)),a=(e,l)=>[P(t)?l:cl(e,T(t)),l],te([...null!=(o=null==r?void 0:r.entries())?o:[]],(([e,t])=>a(t,e)))),(([e],[t])=>{return((null!=(n=e)?n:0)<(null!=(s=t)?s:0)?-1:1)*(l?-1:1);var n,s})),n,P(s)?s:n+s),(([,e])=>e));var r,a,o},qt=(e,t)=>dl(cl(cl(W,T(e)),T(t))),Mt=(e,t,l)=>cl(cl(cl(W,T(e)),T(t)),T(l)),Pt=()=>gl(U),Nt=()=>dl(U),Lt=e=>cl(U,T(e)),Et=()=>!sl(W),jt=e=>nl(W,T(e)),zt=(e,t)=>nl(cl(H,T(e)),T(t)),$t=(e,t)=>nl(cl(W,T(e)),T(t)),At=(e,t,l)=>nl(cl(cl(W,T(e)),T(t)),T(l)),Jt=()=>!sl(U),Bt=e=>nl(U,T(e)),Dt=e=>kt((()=>(e=>ve(e,je,pt))(e)?We(e):0)),Ft=e=>kt((()=>Ae(e)?Ze(e):0)),Qt=e=>{try{He(ye(e))}catch(e){}return Rl},Ht=t=>kt((()=>{if((e=ve(t,(e=>ve(e,Le))))&&(Fe(t),!sl(W))){const e=xt();Ut(),Dt(e)}})),Wt=e=>kt((()=>{if(t=(e=>ve(e,Le))(e)){const l=Pt();Zt(),Xt(),t=!0,Qe(e),Ft(l)}})),Ut=()=>kt((()=>We({}))),Gt=e=>kt((e=>nl(W,e)?st(e):0),e),Kt=(e,t)=>kt(((e,t)=>N(cl(W,e),(l=>nl(l,t)?rt(e,l,t):0))),e,t),Xt=()=>kt((()=>Ze({}))),Yt=()=>kt((()=>{Fe({}),e=!1})),Zt=()=>kt((()=>{Qe({}),t=!1})),rl=(e,t)=>{if(-1!=s){Cl();const l=e();return Sl(t),l}},Cl=()=>{var e;return-1!=s&&s++,1==s&&(null==(e=r[0])||e.call(r),Me(Re)),Rl},Sl=e=>{var t,o;return s>0&&(s--,0==s&&(s=1,ft(1),sl(V)||wt(1),yt(1),sl(O)||Ct(1),(null==e?void 0:e(Rl))&&(ol(V,((e,t)=>ol(e,((e,l)=>ol(e,(([e],n)=>lt(Rl,t,l,n,e))))))),al(V),ol(O,(([e],t)=>nt(Rl,t,e))),al(O)),Me(Oe[0],void 0),s=-1,ft(0),sl(V)||wt(0),yt(0),sl(O)||Ct(0),null==(t=r[1])||t.call(r),Me(Oe[1],void 0),null==(o=r[2])||o.call(r),s=0,l=Et(),n=Jt(),ee([a,i,h,x,S,V,q,R,O,M],al))),Rl},Rl={getContent:()=>[xt(),Pt()],getTables:xt,getTableIds:St,getTable:e=>vl(cl(W,T(e))),getTableCellIds:Tt,getRowCount:Vt,getRowIds:Rt,getSortedRowIds:Ot,getRow:(e,t)=>gl(cl(cl(W,T(e)),T(t))),getCellIds:qt,getCell:Mt,getValues:Pt,getValueIds:Nt,getValue:Lt,hasTables:Et,hasTable:jt,hasTableCell:zt,hasRow:$t,hasCell:At,hasValues:Jt,hasValue:Bt,getTablesJson:()=>Ie(W),getValuesJson:()=>Ie(U),getJson:()=>Ie([W,U]),getTablesSchemaJson:()=>Ie(A),getValuesSchemaJson:()=>Ie(B),getSchemaJson:()=>Ie([A,B]),hasTablesSchema:()=>e,hasValuesSchema:()=>t,setContent:e=>kt((()=>{const t=E(e)?e():e;Ee(t)&&(([e,t])=>{(ge(e)?Ut:Dt)(e),(ge(t)?Xt:Ft)(t)})(t)})),setTables:Dt,setTable:(e,t)=>kt((e=>je(t,e)?Ue(e,t):0),e),setRow:(e,t,l)=>kt(((e,t)=>ze(e,t,l)?Ge(e,et(e),t,l):0),e,t),addRow:(e,t,l=!0)=>rl((()=>{let n;return ze(e,n,t)&&(e=T(e),Ge(e,et(e),n=((e,t)=>{const[l]=cl(Q,e);let n;do{n=l(t)}while(nl(cl(W,e),n));return n})(e,l?1:0),t)),n})),setPartialRow:(e,t,l)=>kt(((e,t)=>{if(ze(e,t,l,1)){const n=et(e);be(l,((l,s)=>Xe(e,n,t,s,l)))}}),e,t),setCell:(e,t,l,n)=>kt(((e,t,l)=>N($e(e,t,l,E(n)?n(Mt(e,t,l)):n),(n=>Xe(e,et(e),t,l,n)))),e,t,l),setValues:Ft,setPartialValues:e=>kt((()=>Ae(e,1)?be(e,((e,t)=>_e(t,e))):0)),setValue:(e,t)=>kt((e=>N(Je(e,E(t)?t(Lt(e)):t),(t=>_e(e,t)))),e),applyChanges:e=>kt((()=>{be(e[0],((e,t)=>P(e)?Gt(t):be(e,((e,l)=>P(e)?Kt(t,l):be(e,((e,n)=>lt(Rl,t,l,n,e))))))),be(e[1],((e,t)=>nt(Rl,t,e)))})),setTablesJson:Qt,setValuesJson:e=>{try{Ye(ye(e))}catch(e){}return Rl},setJson:e=>kt((()=>{try{const[t,l]=ye(e);He(t),Ye(l)}catch(t){Qt(e)}})),setTablesSchema:Ht,setValuesSchema:Wt,setSchema:(e,t)=>kt((()=>{Ht(e),Wt(t)})),delTables:Ut,delTable:Gt,delRow:Kt,delCell:(e,t,l,n)=>kt(((e,t,l)=>N(cl(W,e),(s=>N(cl(s,t),(r=>nl(r,l)?at(e,s,t,r,l,n):0))))),e,t,l),delValues:Xt,delValue:e=>kt((e=>nl(U,e)?ot(e):0),e),delTablesSchema:Yt,delValuesSchema:Zt,delSchema:()=>kt((()=>{Yt(),Zt()})),transaction:rl,startTransaction:Cl,getTransactionChanges:()=>[gl(V,((e,t)=>-1===cl(a,t)?void 0:gl(e,((e,l)=>-1===cl(cl(x,t),l)?void 0:gl(e,(([,e])=>e),(e=>Dl(e)))),sl,ge)),sl,ge),gl(O,(([,e])=>e),(e=>Dl(e))),1],getTransactionLog:()=>[!sl(V),!sl(O),fl(V,Bl,Dl),fl(q),gl(O,Bl,Dl),gl(M),gl(a),vl(x),fl(S),gl(R)],finishTransaction:Sl,forEachTable:e=>ol(W,((t,l)=>e(l,(e=>ol(t,((t,l)=>e(l,(e=>hl(t,e))))))))),forEachTableCell:(e,t)=>hl(cl(H,T(e)),t),forEachRow:(e,t)=>ol(cl(W,T(e)),((e,l)=>t(l,(t=>hl(e,t))))),forEachCell:(e,t,l)=>hl(cl(cl(W,T(e)),T(t)),l),forEachValue:e=>hl(U,e),addSortedRowIdsListener:(e,t,l,n,s,r,a)=>{let o=Ot(e,t,l,n,s);return qe((()=>{const a=Ot(e,t,l,n,s);var i,u,d;u=o,$(i=a)===$(u)&&(d=(e,t)=>u[t]===e,i.every(d))||(o=a,r(Rl,e,t,l,n,s,o))}),oe[a?1:0],[e,t],[St])},addStartTransactionListener:e=>qe(e,Re),addWillFinishTransactionListener:e=>qe(e,Oe[0]),addDidFinishTransactionListener:e=>qe(e,Oe[1]),callListener:e=>(Ne(e),Rl),delListener:e=>(Pe(e),Rl),getListenerStats:()=>({hasTables:Al(G),tables:Al(K),tableIds:Al(X),hasTable:Al(Y),table:Al(Z),tableCellIds:Al(le),hasTableCell:Al(se,tl),rowCount:Al(re),rowIds:Al(ae),sortedRowIds:Al(oe),hasRow:Al(ie,tl),row:Al(ue,tl),cellIds:Al(de,tl),hasCell:Al(he,ll),cell:Al(fe,ll),invalidCell:Al(we,ll),hasValues:Al(ke),values:Al(xe),valueIds:Al(Se),hasValue:Al(Te),value:Al(Ve),invalidValue:Al(Ce),transaction:el(Re)+Al(Oe)}),isMergeable:()=>!1,createStore:Ql,addListener:qe,callListeners:Me,setInternalListeners:(e,t,l,n,s)=>r=[e,t,l,n,s]};return be({[c+p]:[0,G,[],()=>[Et()]],[p]:[0,K],[b]:[0,X],[c+m]:[1,Y,[St],e=>[jt(...e)]],[m]:[1,Z,[St]],[m+I]:[1,le,[St]],[c+m+y]:[2,se,[St,Tt],e=>[zt(...e)]],[v]:[1,re,[St]],[f]:[1,ae,[St]],[c+g]:[2,ie,[St,Rt],e=>[$t(...e)]],[g]:[2,ue,[St,Rt]],[I]:[2,de,[St,Rt]],[c+y]:[3,he,[St,Rt,qt],e=>[At(...e)]],[y]:[3,fe,[St,Rt,qt],e=>$l(Mt(...e))],InvalidCell:[3,we],[c+C]:[0,ke,[],()=>[Jt()]],[C]:[0,xe],[k]:[0,Se],[c+w]:[1,Te,[Nt],e=>[Bt(...e)]],[w]:[1,Ve,[Nt],e=>$l(Lt(e[0]))],InvalidValue:[1,Ce]},(([e,t,l,n],s)=>{Rl["add"+s+"Listener"]=(...s)=>qe(s[e],t[s[e+1]?1:0],e>0?z(s,0,e):void 0,l,n)})),ce(Rl)};e.Inspector=({position:e="right",open:t=!1})=>{const n=l.useCreateStore(Ql),s=ke.indexOf(e);return l.useCreatePersister(n,(e=>{return t=we,l=sessionStorage,((e,t,l,n,s,r,a,o={},i=0,u=[])=>{let d,c,h,m=0,p=0,b=0;pl(Ll,u,(()=>0)),pl(El,u,(()=>[]));const g=ul(),[v,f,y,I,w]=((e=1,t,l)=>1!=e&&t.isMergeable()?[1,t.getMergeableContent,()=>t.getTransactionMergeableChanges(!l),([[e],[t]])=>!ge(e)||!ge(t),t.setDefaultContent]:2!=e?[0,t.getContent,t.getTransactionChanges,([e,t])=>!ge(e)||!ge(t),t.setContent]:A("Store type not supported by this Persister"))(a,e,i),[C,k,x]=Vl((()=>N)),S=e=>{e!=m&&(m=e,k(g,void 0,m))},T=t=>{(v&&j(null==t?void 0:t[0])?1===(null==t?void 0:t[2])?e.applyMergeableChanges:e.setMergeableContent:1===(null==t?void 0:t[2])?e.applyChanges:e.setContent)(t)},V=e=>Nl(void 0,null,(function*(){return 2!=m&&(S(1),p++,yield M((()=>Nl(void 0,null,(function*(){try{const l=yield t();j(l)?T(l):e?w(e):A("Content is not an array: "+l)}catch(t){e&&w(e)}S(0)}))))),N})),R=()=>(c&&(s(c),c=void 0),N),O=e=>Nl(void 0,null,(function*(){return 1!=m&&(S(2),b++,yield M((()=>Nl(void 0,null,(function*(){try{yield l(f,e)}catch(e){}S(0)}))))),N})),q=()=>(h&&(e.delListener(h),h=void 0),N),M=(...e)=>Nl(void 0,null,(function*(){return ne(cl(El,u),...e),yield Nl(void 0,null,(function*(){if(!cl(Ll,u)){for(ml(Ll,u,1);!P(d=se(cl(El,u)));)try{yield d()}catch(e){}ml(Ll,u,0)}})),N})),N=((e,t)=>{for(var l in t||(t={}))ql.call(t,l)&&Pl(e,l,t[l]);if(Ol)for(var l of Ol(t))Ml.call(t,l)&&Pl(e,l,t[l]);return e})({load:V,startAutoLoad:e=>Nl(void 0,null,(function*(){R(),yield V(e);try{c=yield n(((e,t)=>Nl(void 0,null,(function*(){t||e?2!=m&&(S(1),p++,T(null!=t?t:e),S(0)):yield V()}))))}catch(e){}return N})),stopAutoLoad:R,isAutoLoading:()=>!P(c),save:O,startAutoSave:()=>Nl(void 0,null,(function*(){return q(),yield O(),h=e.addDidFinishTransactionListener((()=>{const e=y();I(e)&&O(e)})),N})),stopAutoSave:q,isAutoSaving:()=>!P(h),getStatus:()=>m,addStatusListener:e=>C(e,g),delListener:t=>(x(t),e),schedule:M,getStore:()=>e,destroy:()=>(cl(El,u).splice(0,void 0),R().stopAutoSave()),getStats:()=>({loads:p,saves:b})},o);return ce(N)})(e,(()=>jl(void 0,null,(function*(){return e=l.getItem(t),ye(e,((e,t)=>"￼"===t?void 0:t));var e}))),(e=>jl(void 0,null,(function*(){return l.setItem(t,(n=e(),fe(n,((e,t)=>void 0===t?"￼":t))));var n}))),(e=>{const n=n=>{if(n.storageArea===l&&n.key===t)try{e(ye(n.newValue))}catch(t){e()}};return V.addEventListener(zl,n),n}),(e=>V.removeEventListener(zl,e)),0,3,{getStorageName:()=>t});var t,l}),void 0,(e=>{return l=function*(){yield e.load([{},{position:-1==s?1:s,open:!!t}]),yield e.startAutoSave()},new Promise(((e,t)=>{var n=e=>{try{r(l.next(e))}catch(e){t(e)}},s=e=>{try{r(l.throw(e))}catch(e){t(e)}},r=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,s);r((l=l.apply(void 0,null)).next())}));var l})),F(B,null,F("aside",{id:we},F(_e,{s:n}),F(Yt,{s:n})),F("style",null,Ze))}},"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("../../ui-react/with-schemas/index.js")):"function"==typeof define&&define.amd?define(["exports","react","../ui-react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TinyBaseUiReactInspector={},e.React,e.TinyBaseUiReact);
